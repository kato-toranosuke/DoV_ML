# ExtraTreesClassifier_SMOTETomek_2022-04-15-12-37_no6
## Constants
- CSV_PATH = ../out/csv/experiment
- OUTPUT_PATH = ../out/experiment_result/data_of_2022-03-23_eval_system/AGC-15deg-0angle-3and5m
- FEATURE_ATTRBS = ['low_power', 'high_power', 'hlbr', 'coe1[0]', 'coe1[1]', 'coe3[0]', 'coe3[1]', 'coe3[2]', 'coe3[3]', 'ratio_max_to_10ms_ave_peaks', 'ratio_max_to_9th_ave_peaks', 'ac_std', 'ac_auc', 'diff_std', 'diff_auc', 'srmr', 'gp_max_val_std', 'gp_max_val_range', 'gp_max_val_min', 'gp_max_val_max', 'gp_max_val_mean', 'gp_max_ix_std', 'gp_max_ix_range', 'gp_max_ix_min', 'gp_max_ix_max', 'gp_max_ix_mean', 'gp_auc_std', 'gp_auc_range', 'gp_auc_min', 'gp_auc_max', 'gp_auc_mean', 'tdoa_std', 'tdoa_range', 'tdoa_min', 'tdoa_max', 'tdoa_mean']
- LABEL_ATTRB = ['facing']
- FACING_DOV_ANGLES = [1]
- NCV = 8
- SCORING = ['accuracy', 'balanced_accuracy', 'f1']
- REFIT_SCORING = balanced_accuracy
- PARAM_GRID = [{'est__n_estimators': range(10, 400, 20), 'est__min_samples_split': [2, 5, 10], 'est__min_samples_leaf': [1, 5, 10], 'est__max_features': ['sqrt', 'log2', None], 'est__bootstrap': [False], 'est__n_jobs': [-1], 'est__random_state': [42], 'est__max_samples': [0.01, 0.5, 0.09]}, {'est__n_estimators': range(10, 400, 20), 'est__min_samples_split': [2, 5, 10], 'est__min_samples_leaf': [1, 5, 10], 'est__max_features': ['sqrt', 'log2', None], 'est__bootstrap': [True], 'est__oob_score': [True, False], 'est__n_jobs': [-1], 'est__random_state': [42], 'est__max_samples': [0.01, 0.5, 0.09]}]
- HP_SET_SESSION = ['trial1', 'trial21']
- TRAIN_SET_SESSION = None
- TEST_SET_SESSION = None
- DISTANCE = [3, 5]
- AGC_STATUS = ['AGC-15deg']
- ANGLES = [60, 75, 90, 105, 120]

## Loaded CSV
- 2022-03-23_raspi_48000Hz_w1_N2^12_overlap80_all.csv

## Estimator
### Type
- resampler = SMOTETomek
- estimator = ExtraTreesClassifier

### Arguments for hyperparameter search
- resampler = SMOTETomek
- estimator = ExtraTreesClassifier
- param_grid = 
	- {'est__n_estimators': range(10, 400, 20), 'est__min_samples_split': [2, 5, 10], 'est__min_samples_leaf': [1, 5, 10], 'est__max_features': ['sqrt', 'log2', None], 'est__bootstrap': [False], 'est__n_jobs': [-1], 'est__random_state': [42], 'est__max_samples': [0.01, 0.5, 0.09]}
	- {'est__n_estimators': range(10, 400, 20), 'est__min_samples_split': [2, 5, 10], 'est__min_samples_leaf': [1, 5, 10], 'est__max_features': ['sqrt', 'log2', None], 'est__bootstrap': [True], 'est__oob_score': [True, False], 'est__n_jobs': [-1], 'est__random_state': [42], 'est__max_samples': [0.01, 0.5, 0.09]}

- scoring = ['accuracy', 'balanced_accuracy', 'f1']
- refit = balanced_accuracy
- cv = 8

### Parameters of the best estimator
#### The best hyper-parameters
- best_resampler
	- sampling_strategy = auto
	- random_state = 42
	- smote = None
	- tomek = None
	- n_jobs = -1
	- n_features_in_ = 36
	- sampling_strategy_ = auto
	- smote_ = SMOTE(n_jobs=-1, random_state=42)
	- tomek_ = TomekLinks(n_jobs=-1, sampling_strategy='all')

- best_estimator
	- base_estimator = ExtraTreeClassifier()
	- n_estimators = 130
	- estimator_params = ('criterion', 'max_depth', 'min_samples_split', 'min_samples_leaf', 'min_weight_fraction_leaf', 'max_features', 'max_leaf_nodes', 'min_impurity_decrease', 'random_state', 'ccp_alpha')
	- bootstrap = True
	- oob_score = True
	- n_jobs = -1
	- random_state = 42
	- verbose = 0
	- warm_start = False
	- class_weight = None
	- max_samples = 0.09
	- criterion = gini
	- max_depth = None
	- min_samples_split = 2
	- min_samples_leaf = 5
	- min_weight_fraction_leaf = 0.0
	- max_features = sqrt
	- max_leaf_nodes = None
	- min_impurity_decrease = 0.0
	- ccp_alpha = 0.0
	- n_features_in_ = 36
	- n_outputs_ = 1
	- classes_ = [0 1]
	- n_classes_ = 2
	- base_estimator_ = ExtraTreeClassifier()
	- oob_decision_function_ = [[0.45476558 0.54523442]
 [0.41862784 0.58137216]
 [0.46414585 0.53585415]
 [0.45070437 0.54929563]
 [0.44875865 0.55124135]
 [0.40270775 0.59729225]
 [0.44532238 0.55467762]
 [0.42657738 0.57342262]
 [0.47291749 0.52708251]
 [0.41579103 0.58420897]
 [0.56292102 0.43707898]
 [0.55702712 0.44297288]
 [0.55477886 0.44522114]
 [0.53474275 0.46525725]
 [0.53876782 0.46123218]
 [0.57394625 0.42605375]
 [0.56333605 0.43666395]
 [0.55121343 0.44878657]
 [0.54446248 0.45553752]
 [0.57797452 0.42202548]
 [0.56274002 0.43725998]
 [0.50582341 0.49417659]
 [0.47811124 0.52188876]
 [0.47359093 0.52640907]
 [0.44069855 0.55930145]
 [0.43440611 0.56559389]
 [0.4192057  0.5807943 ]
 [0.41671798 0.58328202]
 [0.40237434 0.59762566]
 [0.42179233 0.57820767]
 [0.42177378 0.57822622]
 [0.48220497 0.51779503]
 [0.41351852 0.58648148]
 [0.4132672  0.5867328 ]
 [0.53065391 0.46934609]
 [0.54261973 0.45738027]
 [0.52380952 0.47619048]
 [0.57272313 0.42727687]
 [0.53649701 0.46350299]
 [0.52595171 0.47404829]
 [0.53594877 0.46405123]
 [0.58025535 0.41974465]
 [0.53503551 0.46496449]
 [0.57082104 0.42917896]
 [0.46275046 0.53724954]
 [0.44220986 0.55779014]
 [0.48101054 0.51898946]
 [0.42454788 0.57545212]
 [0.4134677  0.5865323 ]
 [0.41962917 0.58037083]
 [0.43718725 0.56281275]
 [0.41700542 0.58299458]
 [0.40258428 0.59741572]
 [0.4805975  0.5194025 ]
 [0.39007281 0.60992719]
 [0.51826381 0.48173619]
 [0.5051211  0.4948789 ]
 [0.51954959 0.48045041]
 [0.49179894 0.50820106]
 [0.49946331 0.50053669]
 [0.47880152 0.52119848]
 [0.52955323 0.47044677]
 [0.50609012 0.49390988]
 [0.49210017 0.50789983]
 [0.46254502 0.53745498]
 [0.4353109  0.5646891 ]
 [0.45138889 0.54861111]
 [0.46578775 0.53421225]
 [0.4310955  0.5689045 ]
 [0.51505223 0.48494777]
 [0.43332997 0.56667003]
 [0.42779404 0.57220596]
 [0.54307056 0.45692944]
 [0.55894358 0.44105642]
 [0.53646858 0.46353142]
 [0.56173888 0.43826112]
 [0.56921577 0.43078423]
 [0.53934854 0.46065146]
 [0.46606503 0.53393497]
 [0.54942681 0.45057319]
 [0.55138041 0.44861959]
 [0.48968927 0.51031073]
 [0.5435955  0.4564045 ]
 [0.41776455 0.58223545]
 [0.39695767 0.60304233]
 [0.41371835 0.58628165]
 [0.47741516 0.52258484]
 [0.41370255 0.58629745]
 [0.40507246 0.59492754]
 [0.57885019 0.42114981]
 [0.4960582  0.5039418 ]
 [0.56024743 0.43975257]
 [0.57702712 0.42297288]
 [0.55824176 0.44175824]
 [0.56394655 0.43605345]
 [0.57616096 0.42383904]
 [0.57093742 0.42906258]
 [0.56964803 0.43035197]
 [0.53604269 0.46395731]
 [0.58009373 0.41990627]
 [0.4889372  0.5110628 ]
 [0.41703704 0.58296296]
 [0.50499008 0.49500992]
 [0.49187853 0.50812147]
 [0.44559949 0.55440051]
 [0.49124294 0.50875706]
 [0.41804722 0.58195278]
 [0.43439476 0.56560524]
 [0.51477191 0.48522809]
 [0.42991703 0.57008297]
 [0.52604946 0.47395054]
 [0.50219863 0.49780137]
 [0.43177227 0.56822773]
 [0.44660008 0.55339992]
 [0.41493569 0.58506431]
 [0.53585247 0.46414753]
 [0.5575528  0.4424472 ]
 [0.41129926 0.58870074]
 [0.46482593 0.53517407]
 [0.51851964 0.48148036]
 [0.41668634 0.58331366]
 [0.48090684 0.51909316]
 [0.51069411 0.48930589]
 [0.52788875 0.47211125]
 [0.43732761 0.56267239]
 [0.54592478 0.45407522]
 [0.4193555  0.5806445 ]
 [0.418706   0.581294  ]
 [0.46570848 0.53429152]
 [0.42375098 0.57624902]
 [0.43154583 0.56845417]
 [0.45233542 0.54766458]
 [0.39141108 0.60858892]
 [0.4552168  0.5447832 ]
 [0.4081666  0.5918334 ]
 [0.42924401 0.57075599]
 [0.43046976 0.56953024]
 [0.53213958 0.46786042]
 [0.48674272 0.51325728]
 [0.48398026 0.51601974]
 [0.54612357 0.45387643]
 [0.59009632 0.40990368]
 [0.40685365 0.59314635]
 [0.4085629  0.5914371 ]
 [0.41434729 0.58565271]
 [0.4545327  0.5454673 ]
 [0.4389669  0.5610331 ]
 [0.45014518 0.54985482]
 [0.5310127  0.4689873 ]
 [0.4631115  0.5368885 ]
 [0.42226018 0.57773982]
 [0.44196012 0.55803988]
 [0.42868185 0.57131815]
 [0.47598545 0.52401455]
 [0.47808603 0.52191397]
 [0.41316985 0.58683015]
 [0.49635187 0.50364813]
 [0.42748102 0.57251898]
 [0.41025132 0.58974868]
 [0.48121802 0.51878198]
 [0.42558376 0.57441624]
 [0.4935869  0.5064131 ]]
	- oob_score_ = 0.6172839506172839

#### Importance of features
- gp_max_val_min = 0.07272727272727272
- gp_max_ix_std = 0.05454545454545454
- gp_max_ix_range = 0.05454545454545454
- gp_auc_max = 0.05454545454545454
- tdoa_max = 0.05454545454545454
- ac_std = 0.05
- gp_max_val_max = 0.04304511278195488
- coe3[3] = 0.03636363636363636
- gp_max_val_mean = 0.03636363636363636
- gp_auc_mean = 0.03636363636363636
- tdoa_min = 0.03636363636363636
- hlbr = 0.03603896103896104
- gp_max_ix_min = 0.030844155844155844
- tdoa_mean = 0.03051948051948052
- ratio_max_to_10ms_ave_peaks = 0.02727272727272727
- ratio_max_to_9th_ave_peaks = 0.02727272727272727
- ac_auc = 0.02727272727272727
- diff_auc = 0.02727272727272727
- gp_max_ix_max = 0.02727272727272727
- gp_auc_min = 0.02727272727272727
- tdoa_range = 0.02727272727272727
- low_power = 0.01818181818181818
- coe1[0] = 0.01818181818181818
- coe3[2] = 0.01818181818181818
- srmr = 0.01818181818181818
- gp_max_val_std = 0.01818181818181818
- gp_max_ix_mean = 0.01818181818181818
- gp_auc_std = 0.01818181818181818
- tdoa_std = 0.01818181818181818
- high_power = 0.017207792207792207
- gp_auc_range = 0.010526315789473682
- diff_std = 0.00909090909090909
- coe1[1] = 0.0
- coe3[0] = 0.0
- coe3[1] = 0.0
- gp_max_val_range = 0.0

## Evaluation
cv = 8
### robot-1
#### accuracy
- Mean = 0.80125
- Standard deviation = 0.03218598297395932
- Max = 0.845
- 75% = 0.82
- Median = 0.81
- 25% = 0.7887500000000001
- Min = 0.73

#### f1
- Mean = 0.38766350124124627
- Standard deviation = 0.10584912350452698
- Max = 0.5507246376811594
- 75% = 0.46925465838509317
- Median = 0.4
- 25% = 0.2985658409387223
- Min = 0.2222222222222222

#### precision
- Mean = 0.5073720940281738
- Standard deviation = 0.1039421549054602
- Max = 0.6551724137931034
- 75% = 0.575
- Median = 0.5358620689655172
- 25% = 0.42669172932330823
- Min = 0.3157894736842105

#### recall
- Mean = 0.321875
- Standard deviation = 0.10340870067358936
- Max = 0.475
- 75% = 0.40625
- Median = 0.3125
- 25% = 0.275
- Min = 0.15

#### facing_probas
- Mean = [0.49755216 0.48334147 0.49755474 0.48010936 0.47621041]
- Standard deviation = [0.00551121 0.01452611 0.00654787 0.00635222 0.00725921]
- Max = [0.50304892 0.50685386 0.51147154 0.49099469 0.48686653]
- 75% = [0.50241417 0.49433228 0.49927402 0.48384992 0.48030078]
- Median = [0.49961289 0.48538838 0.49768471 0.48032498 0.47748527]
- 25% = [0.4940326  0.46885317 0.49481486 0.47498128 0.47315963]
- Min = [0.48808339 0.46264304 0.48734295 0.47128665 0.46140702]

#### Confusion Matrix
|  | Predicted Negative | Predicted Positive |
| --- | --- | --- |
| Actual Negative | 147.375 | 12.625 |
| Actual Positive | 27.125 | 12.875 |

### robot-2
#### accuracy
- Mean = 0.766875
- Standard deviation = 0.03334830392988526
- Max = 0.815
- 75% = 0.7937500000000001
- Median = 0.765
- 25% = 0.74625
- Min = 0.71

#### f1
- Mean = 0.2572347390388084
- Standard deviation = 0.10442137153846875
- Max = 0.5084745762711865
- 75% = 0.275974025974026
- Median = 0.23107307439104674
- 25% = 0.18867521367521367
- Min = 0.15873015873015875

#### precision
- Mean = 0.42716905678862205
- Standard deviation = 0.16613956345648231
- Max = 0.8
- 75% = 0.4513888888888889
- Median = 0.37412587412587417
- 25% = 0.34294871794871795
- Min = 0.21739130434782608

#### recall
- Mean = 0.23750000000000002
- Standard deviation = 0.20039024427351748
- Max = 0.75
- 75% = 0.23125
- Median = 0.1625
- 25% = 0.125
- Min = 0.1

#### facing_probas
- Mean = [0.50653595 0.52070479 0.5254368  0.50305672 0.4898406 ]
- Standard deviation = [0.00746288 0.01335769 0.01416665 0.00847658 0.00878246]
- Max = [0.52227408 0.54252465 0.55078785 0.51878665 0.5006887 ]
- 75% = [0.50857698 0.52899086 0.53494652 0.5073265  0.49649802]
- Median = [0.50594121 0.51845063 0.52268351 0.50172073 0.49089113]
- 25% = [0.50257792 0.51022522 0.51418913 0.49725106 0.48531139]
- Min = [0.49546358 0.5031031  0.50900122 0.49258501 0.47178971]

#### Confusion Matrix
|  | Predicted Negative | Predicted Positive |
| --- | --- | --- |
| Actual Negative | 143.875 | 16.125 |
| Actual Positive | 30.5 | 9.5 |

### robot-3
#### accuracy
- Mean = 0.649375
- Standard deviation = 0.07950776298576136
- Max = 0.775
- 75% = 0.7025
- Median = 0.6325000000000001
- 25% = 0.575
- Min = 0.565

#### f1
- Mean = 0.2518095747258896
- Standard deviation = 0.1079553799099303
- Max = 0.3795620437956204
- 75% = 0.3233618233618234
- Median = 0.2985517241379311
- 25% = 0.14654088050314468
- Min = 0.07547169811320756

#### precision
- Mean = 0.23216477030730487
- Standard deviation = 0.054773799306960934
- Max = 0.3076923076923077
- 75% = 0.2696583788154437
- Median = 0.24342105263157893
- 25% = 0.2061085972850679
- Min = 0.14285714285714285

#### recall
- Mean = 0.35
- Standard deviation = 0.22079402165819617
- Max = 0.65
- 75% = 0.5125
- Median = 0.38749999999999996
- 25% = 0.11875
- Min = 0.05

#### facing_probas
- Mean = [0.50313397 0.51337466 0.52325224 0.50642247 0.50067255]
- Standard deviation = [0.00733498 0.01049492 0.0138588  0.0086277  0.00941964]
- Max = [0.51120788 0.52820597 0.54934638 0.52024624 0.51715553]
- 75% = [0.51052721 0.52292971 0.52980909 0.51071575 0.50719694]
- Median = [0.50386592 0.51265591 0.52307578 0.50610797 0.49990427]
- 25% = [0.49820713 0.50592897 0.51021626 0.50099986 0.49412596]
- Min = [0.49170617 0.4978444  0.50713582 0.49365232 0.48628249]

#### Confusion Matrix
|  | Predicted Negative | Predicted Positive |
| --- | --- | --- |
| Actual Negative | 115.875 | 44.125 |
| Actual Positive | 26.0 | 14.0 |

### robot-4
#### accuracy
- Mean = 0.78
- Standard deviation = 0.039528470752104757
- Max = 0.845
- 75% = 0.79625
- Median = 0.79
- 25% = 0.7675000000000001
- Min = 0.71

#### f1
- Mean = 0.2670621863461895
- Standard deviation = 0.15867968267642504
- Max = 0.456140350877193
- 75% = 0.40938331854480925
- Median = 0.32183908045977017
- 25% = 0.10346464167062173
- Min = 0.046511627906976744

#### precision
- Mean = 0.42474937587767203
- Standard deviation = 0.13974003791863973
- Max = 0.7647058823529411
- 75% = 0.4423076923076923
- Median = 0.355106100795756
- 25% = 0.3333333333333333
- Min = 0.3333333333333333

#### recall
- Mean = 0.240625
- Standard deviation = 0.17719053127918546
- Max = 0.5
- 75% = 0.3625
- Median = 0.25
- 25% = 0.0625
- Min = 0.025

#### facing_probas
- Mean = [0.49881047 0.51085183 0.52217208 0.51382476 0.50282509]
- Standard deviation = [0.00987954 0.01053513 0.0124173  0.00996196 0.0100231 ]
- Max = [0.51264189 0.5297078  0.54366949 0.52915183 0.51992674]
- 75% = [0.50681179 0.51785237 0.53126923 0.51851323 0.50772172]
- Median = [0.49760646 0.50895036 0.52111381 0.51428342 0.50294074]
- 25% = [0.49241615 0.50302336 0.51445119 0.50925185 0.49696472]
- Min = [0.48206974 0.49610157 0.50529556 0.49776687 0.48723921]

#### Confusion Matrix
|  | Predicted Negative | Predicted Positive |
| --- | --- | --- |
| Actual Negative | 146.375 | 13.625 |
| Actual Positive | 30.375 | 9.625 |

### robot-5
#### accuracy
- Mean = 0.784375
- Standard deviation = 0.023642850399222166
- Max = 0.825
- 75% = 0.795
- Median = 0.7825
- 25% = 0.7725
- Min = 0.745

#### f1
- Mean = 0.2005454813504349
- Standard deviation = 0.1067258612773593
- Max = 0.36363636363636365
- 75% = 0.26547619047619053
- Median = 0.21637426900584794
- 25% = 0.13168449197860962
- Min = 0.0

#### precision
- Mean = 0.40859157892405973
- Standard deviation = 0.21721875868468846
- Max = 0.75
- 75% = 0.5041666666666667
- Median = 0.3907563025210084
- 25% = 0.3290513833992095
- Min = 0.0

#### recall
- Mean = 0.140625
- Standard deviation = 0.0799780243254358
- Max = 0.25
- 75% = 0.20625000000000002
- Median = 0.15
- 25% = 0.075
- Min = 0.0

#### facing_probas
- Mean = [0.48355622 0.4927602  0.50714892 0.50421104 0.49799373]
- Standard deviation = [0.01048348 0.01062745 0.00866944 0.0106662  0.01017813]
- Max = [0.49868162 0.50704151 0.52043948 0.52496058 0.51489362]
- 75% = [0.49058307 0.5023569  0.5123809  0.50807937 0.50494608]
- Median = [0.48430907 0.49209386 0.50855011 0.50129764 0.49601893]
- 25% = [0.47882975 0.48732976 0.50220157 0.49777843 0.49250151]
- Min = [0.46303692 0.47205595 0.49146662 0.49141326 0.48017906]

#### Confusion Matrix
|  | Predicted Negative | Predicted Positive |
| --- | --- | --- |
| Actual Negative | 151.25 | 8.75 |
| Actual Positive | 34.375 | 5.625 |

### robot-6
#### accuracy
- Mean = 0.258125
- Standard deviation = 0.0280554696093293
- Max = 0.315
- 75% = 0.2625
- Median = 0.2525
- 25% = 0.2475
- Min = 0.215

#### f1
- Mean = 0.40955280777582953
- Standard deviation = 0.0349929837625067
- Max = 0.47908745247148293
- 75% = 0.41567581812826515
- Median = 0.40318725099601593
- 25% = 0.3967741935483871
- Min = 0.35390946502057613

#### precision
- Mean = 1.0
- Standard deviation = 0.0
- Max = 1.0
- 75% = 1.0
- Median = 1.0
- 25% = 1.0
- Min = 1.0

#### recall
- Mean = 0.258125
- Standard deviation = 0.0280554696093293
- Max = 0.315
- 75% = 0.2625
- Median = 0.2525
- 25% = 0.2475
- Min = 0.215

#### facing_probas
- Mean = -100.0
- Standard deviation = 0.0
- Max = -100
- 75% = -100.0
- Median = -100.0
- 25% = -100.0
- Min = -100

#### Confusion Matrix
|  | Predicted Negative | Predicted Positive |
| --- | --- | --- |
| Actual Negative | 0.0 | 0.0 |
| Actual Positive | 148.375 | 51.625 |

