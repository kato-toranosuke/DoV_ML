# ExtraTreesClassifier_RandomUnderSampler_2022-01-17-18-26_no2
## Constants
- CSV_PATH = ../out/csv/experiment
- OUTPUT_PATH = ../out/experiment_result/data_of_2022-01-13_eval_system/AGC-0angle-under5m
- FEATURE_ATTRBS = ['low_power', 'high_power', 'hlbr', 'coe1[0]', 'coe1[1]', 'coe3[0]', 'coe3[1]', 'coe3[2]', 'coe3[3]', 'ratio_max_to_10ms_ave_peaks', 'ratio_max_to_9th_ave_peaks', 'ac_std', 'ac_auc', 'diff_std', 'diff_auc', 'srmr', 'gp_max_val_std', 'gp_max_val_range', 'gp_max_val_min', 'gp_max_val_max', 'gp_max_val_mean', 'gp_max_ix_std', 'gp_max_ix_range', 'gp_max_ix_min', 'gp_max_ix_max', 'gp_max_ix_mean', 'gp_auc_std', 'gp_auc_range', 'gp_auc_min', 'gp_auc_max', 'gp_auc_mean', 'tdoa_std', 'tdoa_range', 'tdoa_min', 'tdoa_max', 'tdoa_mean']
- LABEL_ATTRB = ['facing']
- FACING_DOV_ANGLES = [1]
- NCV = 8
- SCORING = ['accuracy', 'balanced_accuracy', 'f1']
- REFIT_SCORING = balanced_accuracy
- PARAM_GRID = [{'est__n_estimators': range(10, 400, 20), 'est__min_samples_split': [2, 5, 10], 'est__min_samples_leaf': [1, 5, 10], 'est__max_features': ['sqrt', 'log2', None], 'est__bootstrap': [False], 'est__n_jobs': [-1], 'est__random_state': [42], 'est__max_samples': [0.01, 0.5, 0.09]}, {'est__n_estimators': range(10, 400, 20), 'est__min_samples_split': [2, 5, 10], 'est__min_samples_leaf': [1, 5, 10], 'est__max_features': ['sqrt', 'log2', None], 'est__bootstrap': [True], 'est__oob_score': [True, False], 'est__n_jobs': [-1], 'est__random_state': [42], 'est__max_samples': [0.01, 0.5, 0.09]}]
- HP_SET_SESSION = ['trial1', 'trial21']
- TRAIN_SET_SESSION = None
- TEST_SET_SESSION = None
- DISTANCE = [1, 3, 5]
- AGC_STATUS = ['AGC']

## Loaded CSV
- 2021-12-27_AGC.csv
- 2022-01-10_NoAGC.csv
- 2022-01-13_raspi_48000Hz_w1_N2^12_overlap80.csv

## Estimator
### Type
- resampler = RandomUnderSampler
- estimator = ExtraTreesClassifier

### Arguments for hyperparameter search
- resampler = RandomUnderSampler
- estimator = ExtraTreesClassifier
- param_grid = 
	- {'est__n_estimators': range(10, 400, 20), 'est__min_samples_split': [2, 5, 10], 'est__min_samples_leaf': [1, 5, 10], 'est__max_features': ['sqrt', 'log2', None], 'est__bootstrap': [False], 'est__n_jobs': [-1], 'est__random_state': [42], 'est__max_samples': [0.01, 0.5, 0.09]}
	- {'est__n_estimators': range(10, 400, 20), 'est__min_samples_split': [2, 5, 10], 'est__min_samples_leaf': [1, 5, 10], 'est__max_features': ['sqrt', 'log2', None], 'est__bootstrap': [True], 'est__oob_score': [True, False], 'est__n_jobs': [-1], 'est__random_state': [42], 'est__max_samples': [0.01, 0.5, 0.09]}

- scoring = ['accuracy', 'balanced_accuracy', 'f1']
- refit = balanced_accuracy
- cv = 8

### Parameters of the best estimator
#### The best hyper-parameters
- best_resampler
	- sampling_strategy = auto
	- random_state = 42
	- replacement = False
	- n_features_in_ = 36
	- sampling_strategy_ = OrderedDict([(0, 45)])
	- sample_indices_ = [ 24  52 190  99 180  19  30  87 142 147 116 198  88 177  56  20  63 156
 121  70 122 151 178  38  12 215  77  23 185 216 136  68 175 157  83  36
 146  82  84  39  15  51 155 125 200   0   5  10  16  21  26  32  37  42
  48  53  58  64  69  74  75  76  85  86  95  96 107 108 117 118 127 128
 139 140 149 150 159 160 171 172 181 182 191 192 203 204 213 214 223 224]

- best_estimator
	- base_estimator = ExtraTreeClassifier()
	- n_estimators = 230
	- estimator_params = ('criterion', 'max_depth', 'min_samples_split', 'min_samples_leaf', 'min_weight_fraction_leaf', 'max_features', 'max_leaf_nodes', 'min_impurity_decrease', 'random_state', 'ccp_alpha')
	- bootstrap = True
	- oob_score = True
	- n_jobs = -1
	- random_state = 42
	- verbose = 0
	- warm_start = False
	- class_weight = None
	- max_samples = 0.5
	- criterion = gini
	- max_depth = None
	- min_samples_split = 2
	- min_samples_leaf = 10
	- min_weight_fraction_leaf = 0.0
	- max_features = sqrt
	- max_leaf_nodes = None
	- min_impurity_decrease = 0.0
	- ccp_alpha = 0.0
	- n_features_in_ = 36
	- n_outputs_ = 1
	- classes_ = [0 1]
	- n_classes_ = 2
	- base_estimator_ = ExtraTreeClassifier()
	- oob_decision_function_ = [[0.6790478  0.3209522 ]
 [0.34375021 0.65624979]
 [0.64074544 0.35925456]
 [0.6278498  0.3721502 ]
 [0.51043087 0.48956913]
 [0.67628358 0.32371642]
 [0.58528626 0.41471374]
 [0.39494026 0.60505974]
 [0.33166643 0.66833357]
 [0.45978624 0.54021376]
 [0.43322223 0.56677777]
 [0.64658683 0.35341317]
 [0.37995386 0.62004614]
 [0.66179621 0.33820379]
 [0.67828226 0.32171774]
 [0.50382807 0.49617193]
 [0.35783904 0.64216096]
 [0.599465   0.400535  ]
 [0.58374137 0.41625863]
 [0.67482215 0.32517785]
 [0.58961049 0.41038951]
 [0.44491144 0.55508856]
 [0.66482767 0.33517233]
 [0.44501437 0.55498563]
 [0.6750768  0.3249232 ]
 [0.67410057 0.32589943]
 [0.32961812 0.67038188]
 [0.64489413 0.35510587]
 [0.66151958 0.33848042]
 [0.66478303 0.33521697]
 [0.45414996 0.54585004]
 [0.46370382 0.53629618]
 [0.67092379 0.32907621]
 [0.61038981 0.38961019]
 [0.6778638  0.3221362 ]
 [0.49171994 0.50828006]
 [0.65480592 0.34519408]
 [0.64511836 0.35488164]
 [0.63802135 0.36197865]
 [0.60658206 0.39341794]
 [0.37698249 0.62301751]
 [0.6419451  0.3580549 ]
 [0.62579751 0.37420249]
 [0.61738672 0.38261328]
 [0.41529678 0.58470322]
 [0.4196112  0.5803888 ]
 [0.44160533 0.55839467]
 [0.51871721 0.48128279]
 [0.42484149 0.57515851]
 [0.3814066  0.6185934 ]
 [0.67528094 0.32471906]
 [0.36043342 0.63956658]
 [0.35196873 0.64803127]
 [0.51162193 0.48837807]
 [0.33949475 0.66050525]
 [0.37912586 0.62087414]
 [0.48954834 0.51045166]
 [0.37268873 0.62731127]
 [0.3605637  0.6394363 ]
 [0.61526733 0.38473267]
 [0.32113515 0.67886485]
 [0.32940075 0.67059925]
 [0.42474768 0.57525232]
 [0.37190019 0.62809981]
 [0.47243055 0.52756945]
 [0.4740552  0.5259448 ]
 [0.34006678 0.65993322]
 [0.33189568 0.66810432]
 [0.35687032 0.64312968]
 [0.37825802 0.62174198]
 [0.61340248 0.38659752]
 [0.55787982 0.44212018]
 [0.33261657 0.66738343]
 [0.3168324  0.6831676 ]
 [0.36691132 0.63308868]
 [0.39646168 0.60353832]
 [0.49953531 0.50046469]
 [0.50042581 0.49957419]
 [0.32255348 0.67744652]
 [0.34968097 0.65031903]
 [0.43935344 0.56064656]
 [0.45980262 0.54019738]
 [0.51224928 0.48775072]
 [0.53682326 0.46317674]
 [0.35754691 0.64245309]
 [0.34605862 0.65394138]
 [0.37455587 0.62544413]
 [0.36847144 0.63152856]
 [0.58102059 0.41897941]
 [0.50883552 0.49116448]]
	- oob_score_ = 0.7111111111111111

#### Importance of features
- gp_auc_max = 0.07271650682159454
- gp_max_val_min = 0.07006597800306709
- gp_auc_mean = 0.06464697487282248
- gp_auc_min = 0.063748040819618
- diff_auc = 0.0634604990663133
- gp_max_val_mean = 0.05809945656234959
- gp_max_val_max = 0.05113353395581422
- diff_std = 0.046786834280790626
- gp_auc_range = 0.04330737302973009
- srmr = 0.041865481470659195
- tdoa_max = 0.04114719966286215
- high_power = 0.0383731379381321
- gp_auc_std = 0.03651027883215833
- tdoa_mean = 0.03123419565881842
- gp_max_val_range = 0.03004832485519669
- hlbr = 0.027964048851020603
- gp_max_ix_max = 0.026546793795783095
- ratio_max_to_10ms_ave_peaks = 0.024657794016588196
- gp_max_val_std = 0.022203970912118575
- gp_max_ix_mean = 0.021153520913632387
- tdoa_range = 0.014904637176512707
- gp_max_ix_range = 0.014547621128519405
- coe1[1] = 0.014352803452096415
- coe1[0] = 0.012665230365418076
- ac_std = 0.010779551720699899
- ratio_max_to_9th_ave_peaks = 0.009469789671077495
- gp_max_ix_std = 0.008807305765230434
- coe3[3] = 0.007825967169658181
- low_power = 0.007562881024720227
- coe3[2] = 0.006837470554471333
- gp_max_ix_min = 0.006401914182175396
- tdoa_min = 0.0062356357555104274
- ac_auc = 0.002325756450323244
- tdoa_std = 0.001613491264517057
- coe3[0] = 0.0
- coe3[1] = 0.0

## Evaluation
cv = 8
### robot-1
#### accuracy
- Mean = 0.9343645484949833
- Standard deviation = 0.012281296673552185
- Max = 0.9431438127090301
- 75% = 0.9406354515050168
- Median = 0.9381270903010034
- 25% = 0.93561872909699
- Min = 0.903010033444816

#### f1
- Mean = 0.8253537281521564
- Standard deviation = 0.025601652024339644
- Max = 0.8468468468468469
- 75% = 0.838485502036904
- Median = 0.8333333333333334
- 25% = 0.8269787644787645
- Min = 0.7603305785123967

#### precision
- Mean = 0.8942923860441855
- Standard deviation = 0.06069723980634551
- Max = 0.9574468085106383
- 75% = 0.9375
- Median = 0.9117647058823529
- 25% = 0.8783738191632928
- Min = 0.7540983606557377

#### recall
- Mean = 0.76875
- Standard deviation = 0.021143524093942115
- Max = 0.8166666666666667
- 75% = 0.7708333333333334
- Median = 0.7666666666666667
- 25% = 0.75
- Min = 0.75

#### facing_probas
- Mean = [0.58413807 0.50823119 0.377607   0.30484338 0.30694972]
- Standard deviation = [0.00779278 0.01130745 0.00791454 0.01345198 0.01499675]
- Max = [0.5937608  0.52504207 0.39055306 0.32950146 0.33319075]
- 75% = [0.59161563 0.51885103 0.38217235 0.31172403 0.31416718]
- Median = [0.58491292 0.50663725 0.37804432 0.30558822 0.30827914]
- 25% = [0.57554616 0.49955855 0.37398744 0.29786295 0.29987387]
- Min = [0.57411898 0.49226144 0.3626453  0.28143282 0.27998126]

#### Confusion Matrix
|  | Predicted Negative | Predicted Positive |
| --- | --- | --- |
| Actual Negative | 233.25 | 5.75 |
| Actual Positive | 13.875 | 46.125 |

### robot-2
#### accuracy
- Mean = 0.8812709030100334
- Standard deviation = 0.012625141196104925
- Max = 0.8996655518394648
- 75% = 0.8938127090301002
- Median = 0.8779264214046822
- 25% = 0.8695652173913043
- Min = 0.8662207357859532

#### f1
- Mean = 0.6248056541137447
- Standard deviation = 0.055033617099081764
- Max = 0.7047619047619048
- 75% = 0.6696808510638299
- Median = 0.6105263157894737
- 25% = 0.5853786816269285
- Min = 0.5454545454545455

#### precision
- Mean = 0.8481505575715135
- Standard deviation = 0.03323706579854838
- Max = 0.9117647058823529
- 75% = 0.8616071428571428
- Median = 0.8504464285714286
- 25% = 0.8212121212121212
- Min = 0.8

#### recall
- Mean = 0.4979166666666667
- Standard deviation = 0.06792433494542129
- Max = 0.6166666666666667
- 75% = 0.5333333333333334
- Median = 0.48333333333333334
- 25% = 0.45
- Min = 0.4

#### facing_probas
- Mean = [0.54641998 0.57469018 0.51000389 0.37022891 0.30843292]
- Standard deviation = [0.00638894 0.00804205 0.00424723 0.00462524 0.01420136]
- Max = [0.55709006 0.58736798 0.51478233 0.37801948 0.33354613]
- 75% = [0.55122665 0.58099798 0.51346455 0.37235505 0.3157847 ]
- Median = [0.54554561 0.5738285  0.51120733 0.37032033 0.30934562]
- 25% = [0.5421268  0.56805228 0.50756932 0.36868752 0.30161178]
- Min = [0.53719615 0.56431615 0.50222284 0.36169788 0.28343061]

#### Confusion Matrix
|  | Predicted Negative | Predicted Positive |
| --- | --- | --- |
| Actual Negative | 233.625 | 5.375 |
| Actual Positive | 30.125 | 29.875 |

### robot-3
#### accuracy
- Mean = 0.9418896321070234
- Standard deviation = 0.014183273790708497
- Max = 0.9732441471571907
- 75% = 0.9431438127090301
- Median = 0.9381270903010034
- 25% = 0.93561872909699
- Min = 0.9230769230769231

#### f1
- Mean = 0.8569704595559693
- Standard deviation = 0.03431614727586897
- Max = 0.9333333333333333
- 75% = 0.860956618464961
- Median = 0.851426358590422
- 25% = 0.8413571428571429
- Min = 0.816

#### precision
- Mean = 0.8501834787920113
- Standard deviation = 0.04980789598215482
- Max = 0.9333333333333333
- 75% = 0.8911401098901098
- Median = 0.8334173387096775
- 25% = 0.8130309988518943
- Min = 0.7846153846153846

#### recall
- Mean = 0.8666666666666667
- Standard deviation = 0.04564354645876383
- Max = 0.9333333333333333
- 75% = 0.8875
- Median = 0.875
- 25% = 0.85
- Min = 0.7666666666666667

#### facing_probas
- Mean = [0.44456489 0.57553036 0.61959964 0.5280346  0.40910446]
- Standard deviation = [0.00597378 0.00878733 0.00560503 0.01163831 0.00768687]
- Max = [0.45333194 0.58892879 0.62839994 0.54140853 0.41732348]
- 75% = [0.44934551 0.58217732 0.6235682  0.5387887  0.41561032]
- Median = [0.44411693 0.57537145 0.62022927 0.52997569 0.41148758]
- 25% = [0.43916823 0.56736575 0.6159     0.51984849 0.4049606 ]
- Min = [0.43733875 0.56513303 0.61023475 0.51018537 0.39410663]

#### Confusion Matrix
|  | Predicted Negative | Predicted Positive |
| --- | --- | --- |
| Actual Negative | 229.625 | 9.375 |
| Actual Positive | 8.0 | 52.0 |

### robot-4
#### accuracy
- Mean = 0.9046822742474916
- Standard deviation = 0.01559762383459671
- Max = 0.9297658862876255
- 75% = 0.9105351170568562
- Median = 0.9046822742474916
- 25% = 0.8979933110367893
- Min = 0.8762541806020067

#### f1
- Mean = 0.7732081948551561
- Standard deviation = 0.04057204564541459
- Max = 0.832
- 75% = 0.7949090909090908
- Median = 0.7799045915324985
- 25% = 0.7489406779661016
- Min = 0.6942148760330579

#### precision
- Mean = 0.728045580223269
- Standard deviation = 0.035415122115043385
- Max = 0.7878787878787878
- 75% = 0.7525038520801233
- Median = 0.716297786720322
- 25% = 0.7081596188207266
- Min = 0.6774193548387096

#### recall
- Mean = 0.826271186440678
- Standard deviation = 0.060372062918538166
- Max = 0.8813559322033898
- 75% = 0.8686440677966102
- Median = 0.8559322033898304
- 25% = 0.7966101694915255
- Min = 0.711864406779661

#### facing_probas
- Mean = [0.31452509 0.4096979  0.56258054 0.59816211 0.51765385]
- Standard deviation = [0.01205688 0.00879441 0.00679877 0.01000411 0.00605908]
- Max = [0.33622946 0.42039025 0.57518594 0.61523021 0.5281643 ]
- 75% = [0.31764636 0.41524451 0.56590186 0.6017093  0.52176803]
- Median = [0.31466124 0.41276964 0.56261036 0.59980094 0.51728384]
- 25% = [0.31139525 0.40456332 0.5579243  0.59499037 0.51253418]
- Min = [0.29005895 0.39439647 0.55209707 0.58300204 0.50991026]

#### Confusion Matrix
|  | Predicted Negative | Predicted Positive |
| --- | --- | --- |
| Actual Negative | 221.75 | 18.25 |
| Actual Positive | 10.25 | 48.75 |

### robot-5
#### accuracy
- Mean = 0.9076086956521738
- Standard deviation = 0.008516533774023184
- Max = 0.9230769230769231
- 75% = 0.9096989966555183
- Median = 0.9046822742474916
- 25% = 0.903010033444816
- Min = 0.8963210702341137

#### f1
- Mean = 0.7012290478723378
- Standard deviation = 0.03701642058234168
- Max = 0.7628865979381444
- 75% = 0.7117391304347827
- Median = 0.6884854276158625
- 25% = 0.6813186813186815
- Min = 0.6516853932584269

#### precision
- Mean = 0.99375
- Standard deviation = 0.016535945694153707
- Max = 1.0
- 75% = 1.0
- Median = 1.0
- 25% = 1.0
- Min = 0.95

#### recall
- Mean = 0.5437500000000001
- Standard deviation = 0.049256626739737026
- Max = 0.6333333333333333
- 75% = 0.5541666666666667
- Median = 0.525
- 25% = 0.5166666666666667
- Min = 0.48333333333333334

#### facing_probas
- Mean = [0.3081709  0.30472702 0.43632513 0.56784893 0.59088589]
- Standard deviation = [0.01526101 0.01378037 0.00697594 0.00740069 0.00628515]
- Max = [0.3339756  0.32964367 0.44650222 0.5794514  0.60110473]
- 75% = [0.31432987 0.30886833 0.44126622 0.5747597  0.59558619]
- Median = [0.31016367 0.30468237 0.43834471 0.56655658 0.5913327 ]
- 25% = [0.30111882 0.29998038 0.43115174 0.56104298 0.58559183]
- Min = [0.27930559 0.27860348 0.42511793 0.55792143 0.58148071]

#### Confusion Matrix
|  | Predicted Negative | Predicted Positive |
| --- | --- | --- |
| Actual Negative | 238.75 | 0.25 |
| Actual Positive | 27.375 | 32.625 |

### robot-6
#### accuracy
- Mean = 0.7002508361204013
- Standard deviation = 0.02274109158688819
- Max = 0.7324414715719063
- 75% = 0.7090301003344481
- Median = 0.7023411371237458
- 25% = 0.697324414715719
- Min = 0.6488294314381271

#### f1
- Mean = 0.8234895145436154
- Standard deviation = 0.015962047220750484
- Max = 0.8455598455598455
- 75% = 0.8297322041657129
- Median = 0.825147347740668
- 25% = 0.821671438797423
- Min = 0.7870182555780934

#### precision
- Mean = 1.0
- Standard deviation = 0.0
- Max = 1.0
- 75% = 1.0
- Median = 1.0
- 25% = 1.0
- Min = 1.0

#### recall
- Mean = 0.7002508361204013
- Standard deviation = 0.02274109158688819
- Max = 0.7324414715719063
- 75% = 0.7090301003344481
- Median = 0.7023411371237458
- 25% = 0.697324414715719
- Min = 0.6488294314381271

#### facing_probas
- Mean = -100.0
- Standard deviation = 0.0
- Max = -100
- 75% = -100.0
- Median = -100.0
- 25% = -100.0
- Min = -100

#### Confusion Matrix
|  | Predicted Negative | Predicted Positive |
| --- | --- | --- |
| Actual Negative | 0.0 | 0.0 |
| Actual Positive | 89.625 | 209.375 |

